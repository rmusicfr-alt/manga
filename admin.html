<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Light Fox Manga - –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</title>
    <link rel="stylesheet" href="css/admin.css">
</head>
<body data-theme="light">
    <!-- Login Screen -->
    <div class="login-container" id="loginScreen">
        <div class="login-form">
            <h2 class="login-title">ü¶ä –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å Light Fox Manga</h2>
            <form id="loginForm">
                <input type="email" class="login-input" id="emailInput" placeholder="Email –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞" required>
                <input type="password" class="login-input" id="passwordInput" placeholder="–ü–∞—Ä–æ–ª—å" required>
                <button type="submit" class="login-btn">–í–æ–π—Ç–∏</button>
            </form>
            <div class="login-info">
                <p>–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: admin@lightfox.manga / admin123</p>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel" style="display: none;">
        <!-- Header -->
        <header class="admin-header">
            <div class="admin-logo">ü¶ä Light Fox Admin</div>
            <nav class="admin-nav">
                <button class="nav-btn active" onclick="showSection('dashboard')">üìä –î–∞—à–±–æ—Ä–¥</button>
                <button class="nav-btn" onclick="showSection('manga-list')">üìö –¢–∞–π—Ç–ª—ã</button>
                <button class="nav-btn" onclick="showSection('add-manga')">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
                <button class="nav-btn donations" onclick="showSection('donations')">üí∞ –î–æ–Ω–∞—Ç—ã</button>
            </nav>
            <div class="admin-controls">
                <span id="currentUser">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                <!-- Dashboard Section -->
                <section class="content-section active" id="dashboard-section">
                    <div class="section-header">
                        <h2 class="section-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                    </div>
                    <div class="section-content">
                        <div class="dashboard-grid" id="dashboardStats">
                            <div class="loading">
                                <div class="spinner"></div>
                                –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏...
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Manga List Section -->
                <section class="content-section" id="manga-list-section">
                    <div class="section-header">
                        <h2 class="section-title">üìö –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π—Ç–ª–∞–º–∏</h2>
                        <button class="btn btn-primary" onclick="showSection('add-manga')">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π—Ç–ª</button>
                    </div>
                    <div class="section-content">
                        <div class="manga-list" id="mangaList">
                            <div class="loading">
                                <div class="spinner"></div>
                                –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–∞–π—Ç–ª–æ–≤...
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Add/Edit Manga Section -->
                <section class="content-section" id="add-manga-section">
                    <div class="section-header">
                        <h2 class="section-title" id="formTitle">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–∞–π—Ç–ª</h2>
                        <div>
                            <button class="btn btn-secondary" onclick="resetForm()">üîÑ –û—á–∏—Å—Ç–∏—Ç—å</button>
                            <button class="btn btn-warning" onclick="previewManga()">üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</button>
                        </div>
                    </div>
                    <div class="section-content">
                        <form id="mangaForm" class="form-grid">
                            <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                            <div class="form-group">
                                <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–∞–π—Ç–ª–∞ *</label>
                                <input type="text" class="form-input" id="mangaTitle" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" required>
                            </div>

                            <div class="form-group">
                                <label class="form-label">–¢–∏–ø *</label>
                                <select class="form-select" id="mangaType" required>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø</option>
                                    <option value="–ú–∞–Ω–≥–∞">–ú–∞–Ω–≥–∞</option>
                                    <option value="–ú–∞–Ω—å—Ö—É–∞">–ú–∞–Ω—å—Ö—É–∞</option>
                                    <option value="–ú–∞–Ω—å—Ö–≤–∞">–ú–∞–Ω—å—Ö–≤–∞</option>
                                    <option value="–ê–Ω–∏–º–µ">–ê–Ω–∏–º–µ</option>
                                    <option value="–†–∞–Ω–æ–±—ç">–†–∞–Ω–æ–±—ç</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">–°—Ç–∞—Ç—É—Å *</label>
                                <select class="form-select" id="mangaStatus" required>
                                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç—É—Å</option>
                                    <option value="–ê–Ω–æ–Ω—Å">–ê–Ω–æ–Ω—Å</option>
                                    <option value="–í—ã—Ö–æ–¥–∏—Ç">–í—ã—Ö–æ–¥–∏—Ç</option>
                                    <option value="–ó–∞–≤–µ—Ä—à—ë–Ω">–ó–∞–≤–µ—Ä—à—ë–Ω</option>
                                    <option value="–ó–∞–º–æ—Ä–æ–∂–µ–Ω">–ó–∞–º–æ—Ä–æ–∂–µ–Ω</option>
                                    <option value="–õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–æ">–õ–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω–æ</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label class="form-label">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</label>
                                <input type="number" class="form-input" id="mangaYear" min="1900" max="2030" placeholder="2024">
                            </div>

                            <div class="form-group">
                                <label class="form-label">–†–µ–π—Ç–∏–Ω–≥ (0-10)</label>
                                <input type="number" class="form-input" id="mangaRating" min="0" max="10" step="0.1" placeholder="8.5">
                            </div>

                            <div class="form-group">
                                <label class="form-label">–¶–µ–ª—å –¥–æ–Ω–∞—Ç–∞ (‚ÇΩ)</label>
                                <input type="number" class="form-input" id="donationGoal" min="1000" max="1000000" value="10000">
                            </div>

                            <!-- –ì–ª–∞–≤—ã (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ–ª—è) -->
                            <div class="form-group">
                                <label class="form-label">–î–æ—Å—Ç—É–ø–Ω–æ –≥–ª–∞–≤</label>
                                <input type="number" class="form-input" id="availableChapters" min="0" placeholder="0">
                            </div>

                            <div class="form-group">
                                <label class="form-label">–í—Å–µ–≥–æ –≥–ª–∞–≤</label>
                                <input type="number" class="form-input" id="totalChapters" min="0" placeholder="0">
                                <div id="chaptersPreview" style="font-size: 0.8rem; color: var(--secondary-color); margin-top: 4px;">
                                    –ì–ª–∞–≤—ã: 0/0
                                </div>
                            </div>

                            <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ -->
                            <div class="form-group" style="grid-column: 1 / -1;">
                                <label class="form-label">URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</label>
                                <input type="url" class="form-input" id="mangaImage" placeholder="https://example.com/image.jpg" onchange="previewImage(this.value)">
                                <div id="imagePreview" class="image-preview"></div>
                            </div>

                            <!-- –û–ø–∏—Å–∞–Ω–∏–µ -->
                            <div class="form-group" style="grid-column: 1 / -1;">
                                <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                <textarea class="form-textarea" id="mangaDescription" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∞–π—Ç–ª–∞" maxlength="2000"></textarea>
                            </div>

                            <!-- –ñ–∞–Ω—Ä—ã -->
                            <div class="form-group">
                                <label class="form-label">–ñ–∞–Ω—Ä—ã</label>
                                <input type="text" class="form-input" id="genreInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∂–∞–Ω—Ä –∏ –Ω–∞–∂–º–∏—Ç–µ Enter">
                                <div id="genreTags" class="tags-container"></div>
                            </div>

                            <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
                            <div class="form-group">
                                <label class="form-label">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</label>
                                <input type="text" class="form-input" id="categoryInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ –Ω–∞–∂–º–∏—Ç–µ Enter">
                                <div id="categoryTags" class="tags-container"></div>
                            </div>

                            <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
                            <div class="form-group" style="grid-column: 1 / -1;">
                                <button type="submit" class="btn btn-primary">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–π—Ç–ª</button>
                            </div>
                        </form>

                        <!-- –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Ä–∏–π -->
                        <div class="episodes-manager">
                            <div class="episodes-header">
                                <h3 class="episodes-title">üì∫ –ú–µ–Ω–µ–¥–∂–µ—Ä —Å–µ—Ä–∏–π</h3>
                                <div>
                                    <button type="button" class="auto-number-btn" onclick="sortEpisodes()">üî¢ –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                                    <button type="button" class="add-episode-btn" onclick="addNewEpisode()">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–∏—é</button>
                                </div>
                            </div>
                            
                            <div class="episodes-list" id="episodesList">
                                <div class="episodes-empty">
                                    <h4>–ù–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ä–∏–π</h4>
                                    <p>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–∏—é" –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–µ—Ä–≤–æ–π —Å–µ—Ä–∏–∏</p>
                                </div>
                            </div>
                            
                            <div class="episodes-summary" id="episodesSummary">
                                <strong>–ò—Ç–æ–≥–æ:</strong> 0 —Å–µ—Ä–∏–π, 0 —Å –≤–∏–¥–µ–æ, 0 –≥–æ—Ç–æ–≤—ã—Ö –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Donations Section -->
                <section class="content-section" id="donations-section">
                    <div class="section-header">
                        <h2 class="section-title">üí∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ–Ω–∞—Ç–∞–º–∏</h2>
                        <button class="btn btn-donation" onclick="showAddDonationForm()">‚ûï –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                    </div>
                    <div class="section-content">
                        <!-- Donation Form Container -->
                        <div id="donationFormContainer" style="display: none; margin-bottom: 30px;">
                            <div style="background: var(--card-bg); border-radius: 12px; padding: 24px; box-shadow: var(--shadow);">
                                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                                    <h3 id="donationFormTitle"><span>üéØ</span> –°–æ–∑–¥–∞—Ç—å –¥–æ–Ω–∞—Ç-–ø—Ä–æ–µ–∫—Ç</h3>
                                    <button class="btn btn-secondary" onclick="hideDonationForm()">‚úï –ó–∞–∫—Ä—ã—Ç—å</button>
                                </div>
                                
                                <form id="donationForm" class="form-grid">
                                    <div class="form-group">
                                        <label class="form-label">–¢–∞–π—Ç–ª *</label>
                                        <select class="form-select" id="donationMangaSelect" required>
                                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–π—Ç–ª</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">–ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
                                        <input type="text" class="form-input" id="donationProjectTitle" placeholder="–û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –∞–≤—Ç–æ–Ω–∞–∑–≤–∞–Ω–∏—è">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">–¶–µ–ª—å –¥–æ–Ω–∞—Ç–∞ (‚ÇΩ) *</label>
                                        <input type="number" class="form-input" id="donationProjectGoal" min="1000" max="1000000" value="10000" required>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">–¢–µ–∫—É—â–∞—è —Å—É–º–º–∞ (‚ÇΩ)</label>
                                        <input type="number" class="form-input" id="donationCurrentAmount" min="0" value="0">
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞</label>
                                        <select class="form-select" id="donationProjectStatus">
                                            <option value="active">–ê–∫—Ç–∏–≤–µ–Ω</option>
                                            <option value="completed">–ó–∞–≤–µ—Ä—à–µ–Ω</option>
                                            <option value="paused">–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</option>
                                        </select>
                                    </div>

                                    <div class="form-group">
                                        <label class="form-label">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1-10)</label>
                                        <input type="number" class="form-input" id="donationPriority" min="1" max="10" value="5">
                                    </div>

                                    <div class="form-group" style="grid-column: 1 / -1;">
                                        <label class="form-label">–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
                                        <input type="url" class="form-input" id="donationProjectImage" placeholder="https://example.com/image.jpg" onchange="previewDonationImage(this.value)">
                                        <div class="form-checkbox">
                                            <input type="checkbox" id="useDefaultImage" checked>
                                            <label for="useDefaultImage">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∞–π—Ç–ª–∞</label>
                                        </div>
                                        <div id="donationImagePreview" class="image-preview"></div>
                                    </div>

                                    <div class="form-group" style="grid-column: 1 / -1;">
                                        <label class="form-label">–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞</label>
                                        <textarea class="form-textarea" id="donationDescription" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞" maxlength="1000"></textarea>
                                    </div>

                                    <div class="form-group" style="grid-column: 1 / -1;">
                                        <button type="submit" class="btn btn-donation">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
                                    </div>
                                </form>
                            </div>
                        </div>

                        <!-- Donation Projects List -->
                        <div id="donationProjectsList">
                            <div class="loading">
                                <div class="spinner"></div>
                                –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–Ω–∞—Ç-–ø—Ä–æ–µ–∫—Ç–æ–≤...
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <!-- Scripts -->
    <script src="js/api.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>